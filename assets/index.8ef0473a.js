var F=Object.defineProperty;var S=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var h=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&h(e,n,t[n]);if(S)for(var n of S(t))A.call(t,n)&&h(e,n,t[n]);return e};import{_ as I,u as T,m as $,d as z}from"./index.561fee4b.js";import{i as B,j as y,r as p,o as D,b as M,M as N,f as i,h as a,D as m,G as U,F as V,y as q,u as w,e as s,H as k}from"./vendor.9f2f1c6d.js";const E={class:"juejin"},G={key:0,class:"logo"},H={key:1,class:"loading"},J={key:2,class:"error"},O={key:3,class:"list"},P={class:"title"},R=["href"],K={class:"like"},Q=B({props:{componentSetting:{type:Object,required:!0}},setup(e){const t=e,n=T(),j=y(()=>n.isLock),x="https://sf3-scmcdn2-tos.pstatp.com/xitu_juejin_web/img/logo.a7995ad.svg",g=p([]),r=p(!1),d=p(!1),f=async()=>{try{r.value=!0,d.value=!1;const l=await fetch(`${z}/api/juejinList?limit=${t.componentSetting.limit||10}`),{list:v}=await l.json();g.value=v.map(o=>({id:o.article_id,title:o.title,like:o.digg_count,view:o.view_count}))}catch(l){d.value=!0,console.error(l)}finally{r.value=!1}};let c;function u(){f(),c&&window.clearInterval(c),c=window.setInterval(()=>{f()},t.componentSetting.duration*60*1e3)}D(()=>u()),M(()=>window.clearInterval(c)),N(()=>[t.componentSetting.duration,t.componentSetting.limit],()=>u());const L=y(()=>$(t.componentSetting.position)),C=()=>{t.componentSetting.clickActionType===1?u():t.componentSetting.clickActionType===2&&window.open("https://juejin.cn/")};return(l,v)=>(s(),i("div",{class:"wrapper",style:m(_({fontSize:e.componentSetting.textFontSize+"px",color:e.componentSetting.textColor,textShadow:e.componentSetting.textShadow,padding:e.componentSetting.padding+"px",fontFamily:e.componentSetting.fontFamily},w(L)))},[a("div",E,[e.componentSetting.showTitle!==!1?(s(),i("div",G,[a("img",{src:x,style:m({filter:`drop-shadow(${e.componentSetting.iconShadow})`,cursor:e.componentSetting.clickActionType?"pointer":"default"}),alt:"Juejin",onClick:C},null,4)])):U("",!0),r.value?(s(),i("div",H,"Loading...")):d.value?(s(),i("div",J,"Something error!")):(s(),i("div",O,[(s(!0),i(V,null,q(g.value,o=>(s(),i("div",{class:"list-item",key:o.id},[a("div",P,[a("a",{href:`https://juejin.cn/post/${o.id}`,target:"_blank",style:m(w(j)?"":"pointer-events: none")},k(o.title),13,R)]),a("div",K,"\u{1F44D}"+k(o.like),1)]))),128))]))])],4))}});var Z=I(Q,[["__scopeId","data-v-189f5c74"]]);export{Z as default};
